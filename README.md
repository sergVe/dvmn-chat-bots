# Отправляем уведомления о проверке работ
## Возможности
1. Автоматизация получения оповещений о код-ревью через API [dvmn.org](https://dvmn.org)
2. Получение оповещений о код-ревью с помощью бота в Telegram
3. Получение логов ошибок приложения с помощью бота в Telegram

## Требования версии python3
```
>=3.8
```
## Установка
1) Установите python требуемой версии, если он ещё не установлен.
2) Откройте терминал и установите pypenv
```
pip install pipenv
```
3) Создайте оболочку виртуальной среды
```
pipenv shell
```
4) Создайте директорию на компьютере и клонируйте в неё репозиторий или скопируйте в неё файлы из репозитория:
   1) Для десктопа - из ветки *desktop_lesson_2*
   2) Для Heroku - из ветки *lesson_2*
5) Откройте в терминале директорию, содержащую файлы проекта и выполните команду:
```
pipenv install --ignore-pipfile
```

## Переменные окружения
1) Получите Ваш ключ Телеграм, вызвав BotFather, а также chat_id
2) Получите Ваш api_key на сайте [dvmn.org/api/docs/](https://dvmn.org/api/docs/)
### Для десктопа
1) Создайте в корне проекта файл .env

```dotenv

TELEGRAM_KEY='your_telegram_key'
CHAT_ID='your chat_id'
DEVMAN_KEY='your key' 
```
### Для Heroku
1) Зарегистрируйтесь на Heroku, если у Вас нет аккаунта на: [странице регистрации Heroku: signup.heroku.com](https://signup.heroku.com/)
2) Зайдите в [свой dashboard Heroku](https://dashboard.heroku.com/apps) и создайте новое приложение
3) Войдите внутрь приложения и выберите вкладку **"Settings"**, затем кликните **"Reveal Config Vars""** и установите переменные окружения

## Публикация приложения на Heroku
1) Залейте проект на GitHub
2) В созданном приложении на Heroku выбелите вкладку **"Deploy"** и кликните **"GitHub"**, получится что-то вроде:

![deploy_1](readme_files/deploy_1.png?raw=true "деплой 1")

3) Выберите репозиторий и нажмите кнопку **"Connect"** - и Вы увидите примерно следующее:

![deploy_2](readme_files/deploy_2.png?raw=true "деплой 2")

4) Выберете ветку репозитория и кликните **"Enable Automatic Deploys"**
5) Ещё раз выберите ветку и кликните **"Deploy Branch"** для первоначальной загрузки
6) Дождитесь окончания загрузки и перейдите на вкладку **"Resources"** - и Вы увидите:

![deploy_3](readme_files/deploy_3.png?raw=true "деплой 3")

7) Нажмите на кнопку редактирования, передвиньте рычажок вправо и нажмите **"Confirm"**
8) Перейдите на вкладку **"Overview"** и кликните **"Open app"**

## Запуск программы
### Для десктопа
Откройте в терминале директорию, содержащую файлы проекта и выполните команду:
```
python3 main.py
```
### Для Heroku
1) Создайте в корне проекта файл *Procfile* (он должен лежать и в репозитории на GitHub) и напишите в нём:
```
bot: python3 main.py
```
2) В приложении на Heroku нажмите на кнопку редактирования, передвиньте рычажок вправо и нажмите **"Confirm"**
3) Перейдите на вкладку **"Overview"** и кликните **"Open app"**


## Цель проекта
Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org)